<html>
<head>
<style>
pre {
	display: inline;
	background-color: lightgray;
}
</style>
</head>
<body>
<h2>This Document</h2>
is a walkthrough tutorial guide thing for the in-game editing. It's designed to get you up-and-running with the most basic stuff first, for a hands-on experience. Throughout, there will be links to the <a href="edit_reference.html">edit reference</a>, which has more detailed information about how things work as well as a synopsis of each command.

<h3>Launching Server + Client</h3>
Since editing is done in-game, the game has to be running. For that, you need the server up, even if you're just playing locally.
<p></p>
The server lives in <pre>server/</pre>, and can be started with <pre>./server.py</pre>. If it's successful, you should see a message like <pre>Server started on port 15000</pre>, and then it should wait.
<p></p>
The client is <pre>game</pre>, and needs the server IP as an argument. You should be able to start it with <pre>./game 127.0.0.1</pre>, and then you should see a guy you can move around.
<p></p>
If you aren't familiar, you should practice moving around the world a bit. Controls are WASD, Space, the mouse buttons (to make different kinds of blocks, when you aren't holding the flag), and left shift. Bump into the flag to pick it up, and shift + click to drop it.

<h3>Save + Load</h3>
Press <pre>Ctrl+Q</pre>, then do something stupid and irreversible, like jumping off the edge. Then press <pre>Ctrl+L</pre>.
<p></p>
Those are the keybinds for <pre>/save savegame</pre> and <pre>/load savegame</pre>, respectively. If you type out the command you can use any other filename, like <pre>tmp</pre>, <pre>tmp2</pre>, or <pre>my_level.sav</pre>.
<p></p>
There's no "undo" command, and some parts of the edit interface are clunky. Save often, especially if you're working on something that took a while to build.

<h3>Makin' Blocks</h3>
Time for actual edit stuff. Type <pre>/load blank.sav</pre>, and after a second you should spawn in. Walk around some and press <pre>Ctrl+B</pre> in a few different places. Tada! Blocks.
<p></p>
You may notice some little blue things floating around you; we'll get to those in a second. For now, let's make these blocks slightly more interesting...
<p></p>
For one, they're hard to see. Enter <pre>/c green</pre>, maybe try some other colors. Hex works too (<pre>/c FFFFA0</pre>).
<p></p>
For another, they're kind of small... Look at one, hold <pre>Alt</pre>, and scroll down a few clicks. Tada! They should get bigger. Hold <pre>Alt</pre> again, and click and drag to the side. Mess around with this a bit; the side that stretches depends on which direction you're looking (<i>not</i> what you're looking <i>at</i>). Use <pre>Alt+Shift</pre> to shrink things. See also <a href="edit_reference.html#_incr">/incr</a>.
<p></p>
Maybe save (<pre>Ctrl+Q</pre>) here? No particular reason, just a good habit.

<h3>Arranging Blocks</h3>
Let's address those blue things from earlier. They represent what you have selected - if you move around some, you'll see they "point at" the blocks you made.
<p></p>
Press <pre>Ctrl+Tab</pre>. The crosshairs will change, and if you have the terminal where you launched the game visible, it will say that edit mode is on. Press <pre>Shift+LeftClick</pre>, and the blue things should go away. If they didn't go away, and you spat out a block instead, try <pre>Ctrl+Tab</pre> (bound to <a href="edit_reference.html#_edit">/edit</a>) again.
<p></p>
The things you have selected are the "Blue Buffer", and now you know how to clear it. You can select existing blocks by "clicking on them" (<pre>LeftClick</pre> while looking at them).
<p></p>
We talked about resizing things earlier (<pre>Alt+MouseWheel</pre> / <pre>Alt+Click+Drag</pre>) - you can move them around similarly, with <pre>Ctrl</pre> instead of <pre>Alt</pre>. Finally, you can delete the things you have selected with <pre>/d</pre>.
<p></p>
Okay, now you can save/load, make and delete blocks, change their color, size, and position, and modify/clear the selection. Mess around with that for a bit to get used to it. If you don't have anything selected, the commands will act on you, so if you're a weird size that's probably why.

<h3>Rules</h3>
Very briefly, we should address rules. Type <pre>/rule</pre> to see a listing, along with which ones are active.
<p></p>
You'll note #3 is gravity - you can do <pre>/rule 3</pre> to turn that off (or back on), that's a fun trick.
<p></p>
More importantly, #10 is edit functionality. That's turned on for <pre>blank.sav</pre>, which is why you can do all this, but isn't (by default) on e.g. the default level. It can be turned on at any time; mostly it's just so the edit keybinds don't get used by accident in regular gameplay.
<p></p>
So remember <pre>/rule 10</pre> to turn on editing, and <pre>Ctrl+Tab</pre> (<a href="edit_reference.html#_edit">/edit</a>) to let you select stuff.

<h3>Intermission</h3>
The next thing to cover would be the rest of the buffer manipulation controls, but those are already covered in the <a href="edit_reference.html#buffers">buffers</a> section of the edit guide, so go read that. While you're over there, you might also check out the table of contents; at this point you should have everything else you need to start messing around with any commands that look interesting. There's more stuff you might need to learn (like sliders and wires), but that page is littered with links.
<p></p>
If you want to stick around here, there's some more semi-guided stuff we can cover (once you've read about those buffers).

<h3>More Block Manipulation</h3>
As an excuse to cover some more commands, we're going to make a house. But to keep things short, it'll actually just be two walls.
<p></p>
First, make a regular wall. This is just a thin, long, tall block, using the stuff you've learned so far. Leave it floating above the ground a little. Color it if you want.
<p></p>
Now we're going to <a href="edit_reference.html#_copy">copy</a> it. Where the copy ends up depends on the direction you're looking, so look parallel to the wall (along the wall's "long" axis) and press <pre>Ctrl+C</pre>. The wall should now look twice as long; really it's two walls, and you may notice the original is in the Red buffer and the new one is Blue. Leave the buffers alone for now, we'll need them in a sec.
<p></p>
Obviously this wall should be facing the other way; look straight down and type <pre><a href="edit_reference.html#_turn">/turn</a></pre> (no keybind for this one). How look direction affects the turn direction is covered in the edit reference; I'm not going to bother with right-hand-rule stuff here.
<p></p>
Now you should have both walls, floating above the ground, facing different directions, one in each buffer; but they aren't lined up right. You could use the existing move commands, but that would be slow and clumbsy. Instead, we'll use <pre>Ctrl+E</pre>, which aligns the Blue Buffer with the Red Buffer. What exactly that means is easier to show than explain, so experiment some. Your look direction determines which direction the Blue Buffer is moved.
<p></p>
Now we're going to address the fact that it's still floating. You want your Blue Buffer to contain both walls, and the Red buffer to contain the ground - this shouldn't be too challenging, give it a go. Once you're set, we're going to double-check it just as an excuse to learn some new commands: <pre>Ctrl+F</pre> toggles the colors of blocks in the Blue Buffer, so you can see those better (then toggle them back). <pre>/i</pre> prints a bunch of info to the terminal you launched the client from; most of this is about the first block of the Blue Buffer, but at the end it should also say <pre>Selected 2, 1</pre>, indicating 2 Blue Buffer blocks and 1 Red Buffer block. Once you're set, just look down and issue <pre>Ctrl+E</pre> to align your walls to the ground.
<p></p>
One last trick to address before we move on from our half-house - now that you've got some blocks as a group, it might be nice to measure them. Since they're both in your Blue Buffer already, just look along whatever axis you want to measure, and type <pre><a href="edit_reference.html#_m">/m</a></pre>. Measurement info is printed to the terminal.

<h3>Hard-to-Reach Places</h3>
There's some handy techniques for getting around; we're going to put a block under the floor using them.
<p></p>
Start with both your buffers empty, and type <pre><a href="edit_reference.html#_weight">/weight</a></pre> (or <pre>/weight 0</pre>). You are now floating, though the obvious effect is probably that you can't jump. Look straight down and type <pre>/p 2000</pre>, which pushes your character 2000 units (through the floor, in this case). Look around a little, and you'll see where you are.
<p></p>
You can float around with the regular move controls, but it's slow, and can't go up/down. The quickest way to move while weightless is probably <pre>Ctrl+E</pre> - try this a few times, then try holding it down to <i>really</i> cover ground. The only caveat is that since this something of an abuse of the versatile <a href="edit_reference.html#_p">/p</a> command, it only works if both your buffers are empty.
<p></p>
Another way is the <pre>Ctrl+MouseWheel</pre> we used to move blocks earlier; with an empty Blue Buffer, it moves yourself. Actually this is just another bind for the /p command, though by default it uses a smaller <a href="edit_reference.html#_incr">increment</a> than the 2000 we used to get through the floor.
<p></p>
Anyway, we're under the floor, so putting a block here is just <pre>Ctrl+B</pre> as usual. This will now be the target of edit commands, of course, so if you want to keep moving around you might clear the Blue Buffer or just swap them out. In any event, get back above ground, and use <pre>/weight</pre> (or <pre>/weight 1</pre>) to restore your personal gravity.

<h3>Saving stuff</h3>
We already talked about saving / loading the game, but what if you build some stuff and just want to save the cool stuff?
<p></p>
Build something small - just a couple blocks is fine - and make sure your Blue Buffer contains exactly the cool stuff you want to save (don't forget <pre>Ctrl+F</pre> if you need to check more visually). Now you can <a href="edit_reference.html#_export">export</a> it by typing <pre>/export itm/tmp</pre>. Move a little bit away and <a herf="edit_reference.html#_import">import</a> it back with <pre>/import itm/tmp</pre>. This was basically like a clumsy <a href="edit_reference.html#_copy">copy</a>, but the advantage is that it's named, and you can import things into other levels later.
<p></p>
A note on names - you can use any name you want, but be aware that exported items and <a href="edit_reference.html#_save">saved</a> levels are both stored in the <pre>data/</pre> folder. For this reason you typically prefix exports with <pre>itm/</pre> to put them in the <pre>data/itm/</pre> folder, so things stay organized and you don't accidentally overwrite your <pre>cool</pre> level with your <pre>cool</pre> item.
</body>
</html>
